<% include ./partials/header %>

<div class="row">
    <h1 style="text-align: center">Reset Password</h1>
    <div class="reset-form">
        <form action="/reset/<%= token %>" method="POST">
            <div class="form-group">
                <label for="password">New Password</label>
                <input id="password" class="form-control" type="password" name="password" placeholder="New password" autofocus=true required>
            </div>
            <div class="form-group">
                <label for="confirm">Confirm Password</label>
                <input id="confirm_password" class="form-control" type="password" name="confirm" placeholder="Confirm password" required>
            </div>
            <div class="form-group">
                <button class="btn btn-lg btn-primary btn-block">Update Password</button>
            </div>
        </form>
    </div>
</div>

<script>
    var password = document.getElementById("password"), 
    confirm_password = document.getElementById("confirm_password");
    
    function validatePassword(){
        if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }
    
    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;
</script>

<% include ./partials/footer %>
